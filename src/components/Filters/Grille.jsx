import "pathseg";
import { Bodies, Svg, Composite, Common } from "matter-js";
const Grille = (world, x, y, category) => {
  var vertexSets = [];
  Common.setDecomp(require("poly-decomp"));
  const paths = [
    "M 342.777 166.38 C 347.317 165.588 350.634 166.941 356.23 169.743 C 365.052 174.16 382.457 188.259 390.983 195.528 C 397.172 200.804 402.74 206.956 404.717 209.261 C 405.516 210.193 404.746 209.553 405.838 210.943 C 411.024 217.545 453.872 271.964 470.019 286.896 C 479.786 295.927 485.7 298.124 493.562 302.591 C 501.023 306.83 508.773 308.824 515.983 313.241 C 523.461 317.821 535.149 327.34 537.564 329.777 C 538.348 330.568 537.568 330.271 538.405 331.178 C 541.474 334.506 567.006 355.597 570.075 358.925 C 570.912 359.832 570.434 359.779 570.916 360.326 C 571.656 361.166 573.419 361.971 574.56 363.409 C 575.982 365.201 577.857 368.263 578.483 370.696 C 579.06 372.935 579.212 375.048 578.483 377.422 C 577.598 380.31 575.447 384.659 572.598 386.671 C 569.634 388.765 564.102 389.684 560.826 389.474 C 558.152 389.303 557.666 389.109 554.1 386.671 C 545.516 380.805 521.127 354.121 505.333 342.949 C 491.724 333.323 476.492 328.824 465.535 321.649 C 456.342 315.629 452.498 313.154 442.833 303.431 C 426.931 287.434 383.608 231.191 378.091 225.797 C 377.031 224.761 377.262 225.456 376.69 224.956 C 375.755 224.14 375.283 222.751 373.046 220.752 C 368.496 216.685 354.978 200.065 346.701 201.133 C 337.91 202.268 325.364 227.064 322.037 230.281 C 321.01 231.274 321.464 230.382 320.356 231.402 C 316.421 235.024 297.195 257.797 287.844 266.716 C 280.723 273.509 271.229 280.227 269.066 282.131 C 268.419 282.701 268.871 282.186 268.226 282.972 C 265.279 286.557 248.018 311.142 236.555 325.292 C 224.561 340.098 206.935 363.558 197.598 369.855 C 192.649 373.192 189.022 372.783 185.826 372.658 C 183.325 372.56 182.172 372.012 179.661 370.416 C 175.673 367.883 166.197 358.755 164.246 356.402 C 163.5 355.503 163.995 355.457 163.405 354.721 C 162.314 353.36 160.298 352.306 156.959 348.835 C 149.956 341.555 133.613 320.781 120.243 307.075 C 106.254 292.734 78.286 268.29 74.56 264.754 C 73.795 264.029 74.366 264.549 73.719 263.914 C 71.35 261.584 59.937 249.077 51.858 242.613 C 43.542 235.96 32.308 230.763 24.391 224.676 C 17.335 219.25 9.333 213.402 6.174 208.14 C 3.849 204.267 3.43 200.321 3.932 196.929 C 4.406 193.726 6.773 190.286 8.696 188.241 C 10.325 186.509 12.211 185.538 14.302 184.878 C 16.488 184.187 17.807 183.007 21.589 184.317 C 30.155 187.285 54.329 205.135 68.113 216.268 C 80.901 226.596 97.721 243.929 102.026 248.499 C 103.498 250.061 103.476 250.434 103.988 251.021 C 104.333 251.416 104.191 251.254 104.829 251.862 C 107.046 253.975 122.165 267.314 124.447 270.079 C 125.236 271.035 124.473 270.837 125.288 271.761 C 127.644 274.429 138.643 281.719 145.748 288.857 C 154.218 297.368 167.468 315.39 172.374 320.528 C 174.572 322.831 174.807 322.462 176.578 324.171 C 179.215 326.717 181.419 336.489 186.948 335.102 C 198.771 332.136 235.968 272.749 250.849 257.187 C 259.43 248.214 267.945 243.08 270.187 240.651 C 270.935 239.841 270.655 239.624 271.028 239.25 C 271.402 238.876 271.556 239.202 272.43 238.409 C 275.375 235.736 292.186 215.578 295.131 212.905 C 296.005 212.112 296.145 212.364 296.533 212.064 C 296.874 211.799 296.718 211.957 297.374 211.223 C 300.169 208.09 323.121 180.207 326.241 177.03 C 327.022 176.235 326.602 176.704 327.362 176.189 C 329.486 174.751 337.708 167.264 342.777 166.38 Z",
  ];
  paths.forEach((path, i) => {
    var newElement = document.createElementNS("http://www.w3.org/2000/svg", "path");
    newElement.setAttribute("d", path);

    var points = Svg.pathToVertices(newElement);

    const r = Bodies.fromVertices(
      x,
      y,
      points,
      {
        isStatic: true,
        label: "serrated",
        collisionFilter: {
          group: category,
          mask: 0,
        },
        render: {
          fillStyle: "black",
          strokeStyle: "black",
          lineWidth: 1,
        },
      },
      true
    );
    vertexSets.push(r);

    Composite.add(world, vertexSets);
  });
};
export default Grille;
